[core]
# 한국 타임존 설정
default_timezone = Asia/Seoul

# 병렬 처리 설정
parallelism = 32
# DAG당 최대 16개 작업
max_active_tasks_per_dag = 16
max_active_runs_per_dag = 16

# 재시도 설정
default_task_retries = 3
default_task_retry_delay = 300

# DAG 파싱 및 태스크 큐 타임아웃 설정
dagbag_import_timeout = 120
task_queued_timeout = 300

[database]
# Connection Pool 설정
sql_alchemy_pool_enabled = True
sql_alchemy_pool_size = 5
sql_alchemy_max_overflow = 10
sql_alchemy_pool_recycle = 1800
sql_alchemy_pool_pre_ping = True

[logging]
# 로그 레벨 (크롤링 디버깅용)
logging_level = INFO
fab_logging_level = WARN

# 로그 보관 설정 (디스크 공간 관리)
log_retention_days = 30

[scheduler]
# 스케줄러 설정
scheduler_health_check_server_host = 0.0.0.0
scheduler_health_check_server_port = 8974
catchup_by_default = False

# DAG 파일 처리 주기 (초)
dag_dir_list_interval = 300

[celery]
# Worker 타임아웃 (크롤링 작업이 길어질 수 있음)
worker_job_heartbeat_sec = 30
worker_task_batch_get_timeout = 10

[webserver]
# Airflow 3.1.0 국제화 설정
default_ui_timezone = Asia/Seoul

# 웹서버 기본 설정
web_server_host = 0.0.0.0
web_server_port = 8080

[api]
# API 서버 기본 설정 (Airflow 3.x용)
base_url = http://ec2-13-125-232-188.ap-northeast-2.compute.amazonaws.com:8080